(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{42:function(e,t,r){},43:function(e,t,r){"use strict";r.r(t);var c=r(1),n=r.n(c),a=r(17),i=r.n(a),s=r(6),u=r(2),l=r(4),o=r.n(l),j=r(5),d=r(7),b=r.n(d),h="/api/v1/cars",v={cars:function(){var e=Object(j.a)(o.a.mark((function e(){var t,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get(h);case 3:return t=e.sent,r=t.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),consumption:function(){var e=Object(j.a)(o.a.mark((function e(t,r,c){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("".concat(h,"/").concat(t,"/").concat(r,"/").concat(c));case 3:return n=e.sent,a=n.data,e.abrupt("return",Object(s.a)(Object(s.a)({},a),{},{data1:a}));case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r,c){return e.apply(this,arguments)}}(),compare:function(){var e=Object(j.a)(o.a.mark((function e(t,r,c,n){var a,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("".concat(h,"/").concat(t,"/").concat(r,"/").concat(c,"/").concat(n));case 3:return a=e.sent,i=a.data,e.abrupt("return",Object(s.a)(Object(s.a)({},i),{},{data1:i.data_1?i.data_1:i.data1,data2:i.data_2?i.data_2:i.data2}));case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r,c,n){return e.apply(this,arguments)}}()},O=function(e){var t=Object(c.useState)(null),r=Object(u.a)(t,2),n=r[0],a=r[1],i=Object(c.useState)(null),s=Object(u.a)(i,2),l=s[0],d=s[1],b=Object(c.useState)(null),h=Object(u.a)(b,2),O=h[0],f=h[1],x=function(){var e=Object(j.a)(o.a.mark((function e(){var t,r,c,n,a,i=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:{},r=t.vehicle,c=t.distance,n=t.velocity1,!(a=t.velocity2)){e.next=8;break}return e.t0=p,e.next=6,v.compare(r,c,n,a);case 6:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 8:if(!n){e.next=14;break}return e.t2=p,e.next=12,v.consumption(r,c,n);case 12:return e.t3=e.sent,e.abrupt("return",(0,e.t2)(e.t3));case 14:return e.abrupt("return",p());case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.data1,c=void 0===r?null:r,n=t.data2,i=void 0===n?null:n,s=t.difference,u=void 0===s?null:s;a(c),d(i),e(c,i),f(u)};return[{data1:n,data2:l,difference:O},x]},f="koodihaaste:dataHistory",x={getHistory:function(){return JSON.parse(atob(localStorage.getItem(f)))},saveHistory:function(e){if(!e.length)throw new Error("No history to save");localStorage.setItem(f,btoa(JSON.stringify(e)))},clearHistory:function(){localStorage.removeItem(f)}},p=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),r=t[0],n=t[1];Object(c.useEffect)((function(){var e=x.getHistory();e&&n(e)}),[]),Object(c.useEffect)((function(){r.length&&x.saveHistory(r)}),[r]);return[r,function(){for(var e=arguments.length,t=new Array(e),c=0;c<e;c++)t[c]=arguments[c];var a=t.filter((function(e){return e}));a.length&&n(r.concat(a))},function(){x.clearHistory(),n([])}]},m=r(0),y=function(e){var t=e.id,r=e.value,c=e.setValue,n=e.required,a=e.placeholder,i=e.label,s=void 0===i?"Enter velocity: ":i,u=e.min,l=void 0===u?0:u,o=function(e){return c(e.target.value)};return Object(m.jsxs)("div",{className:"number-inputs",children:[Object(m.jsx)("label",{htmlFor:t,children:s}),Object(m.jsx)("input",{id:t,type:"number",value:r,placeholder:a,onChange:o,min:l,step:"0.1",required:n}),Object(m.jsx)("input",{type:"range",value:r,placeholder:a,onChange:o,min:l,max:"500",step:"10",required:n})]})},g=function(e){var t=e.submit,r=Object(c.useState)(20),n=Object(u.a)(r,2),a=n[0],i=n[1],s=Object(c.useState)(50),l=Object(u.a)(s,2),o=l[0],j=l[1],d=Object(c.useState)(0),b=Object(u.a)(d,2),h=b[0],v=b[1];return Object(m.jsxs)("form",{className:"velocity",onSubmit:function(e){e.preventDefault(),t({distance:Number(a),velocity1:Number(o),velocity2:Number(h)})},children:[Object(m.jsx)(y,{id:"distance",value:a,setValue:i,placeholder:"Distance",label:"Enter distance: ",required:!0,min:.1}),Object(m.jsx)(y,{id:"velocity1",value:o,setValue:j,placeholder:"Velocity",label:"Enter first velocity: ",required:!0,min:1}),Object(m.jsx)(y,{id:"velocity2",value:h,setValue:v,placeholder:"Velocity",label:"Enter second velocity (optional):"}),Object(m.jsx)("button",{type:"submit",children:"Submit"})]})},w=function(e){var t=e.children;return Object(m.jsx)("thead",{children:Object(m.jsx)("tr",{children:t})})},S=function(e){var t=e.children;return Object(m.jsx)("tbody",{children:t})},N=function(e){var t=e.value,r=e.text,c=void 0===r?"Velocity: ":r;return Object(m.jsxs)("span",{children:[c,t,"km/h"]})},k=function(e){var t=e.value,r=e.text,c=void 0===r?"Distance: ":r;return Object(m.jsxs)("span",{children:[c,t.toFixed(1),"km"]})},E=function(e){var t=e.value,r=e.difference,c=e.text,n=void 0===c?"Time: ":c,a=r?V(t):"",i=F(Math.abs(t)),s=Object(u.a)(i,3),l=s[0],o=s[1],j=s[2],d=l?"".concat(l," days "):"";return Object(m.jsxs)("span",{children:[n,d," ",o," hours and ",j," minutes ",a]})},V=function(e){return 0===e?"":e<0?"faster":"slower"},F=function(e){if(e<0)throw new Error("time is less than zero");var t=Math.floor(e/24);e-=24*t;var r=Math.floor(e);return e-=r,[t,r,Math.ceil(60*e)]},H=function(e){var t=e.value,r=e.text,c=void 0===r?"Fuel: ":r;return Object(m.jsxs)("span",{children:[c,t.toFixed(2)," liters"]})},C=function(e,t){return Object(m.jsx)("tr",{children:Object(m.jsx)("td",{children:e})},t)},q=function(e){var t=e.data,r=t.velocity,c=t.distance,n=t.time,a=t.fuel,i=[Object(m.jsx)(k,{value:c}),Object(m.jsx)(E,{value:n}),Object(m.jsx)(H,{value:a})].map(C);return Object(m.jsxs)("table",{className:"consumption",children:[Object(m.jsx)(w,{children:Object(m.jsx)("th",{children:Object(m.jsx)(N,{value:r})})}),Object(m.jsx)(S,{children:i})]})},D=function(e){var t=e.difference,r=t.time,c=t.fuel,n=[Object(m.jsx)(E,{value:r,difference:!0}),Object(m.jsx)(H,{value:c})].map(C);return Object(m.jsxs)("table",{className:"difference",children:[Object(m.jsx)(w,{children:Object(m.jsx)("th",{children:"Difference"})}),Object(m.jsx)(S,{children:n})]})},I=(r(42),function(e){var t=e.data,r=t.data1,c=t.data2,n=t.difference;return r?r&&(!c||!n)?Object(m.jsx)("div",{className:"results",children:Object(m.jsx)(q,{data:r})}):Object(m.jsxs)("div",{className:"results",children:[Object(m.jsx)(q,{data:r}),Object(m.jsx)(q,{data:c}),Object(m.jsx)(D,{difference:n})]}):null}),M=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),r=t[0],n=t[1];Object(c.useEffect)((function(){a()}),[]);var a=function(){var e=Object(j.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.cars();case 2:(t=e.sent)&&n(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return[r,a]},J=function(e){var t=e.submit,r=M(),c=Object(u.a)(r,1)[0];if(!c)return null;var n=c.map((function(e){var t=e.id;return Object(m.jsx)("option",{value:t,children:t},t)}));return Object(m.jsxs)("div",{className:"vehicle-form",children:[Object(m.jsx)("label",{htmlFor:"vehicle",children:"Choose vehicle: "}),Object(m.jsxs)("select",{id:"vehicle",onChange:function(e){return t(e.target.value.toUpperCase())},children:[Object(m.jsx)("option",{value:"",children:"Select vehicle"}),n]})]})},_=function(e){var t=e.history;return Object(m.jsxs)("table",{className:"history",children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"Vehicle"}),Object(m.jsx)("th",{children:"Distance"}),Object(m.jsx)("th",{children:"Velocity"}),Object(m.jsx)("th",{children:"Time"}),Object(m.jsx)("th",{children:"Fuel"})]})}),Object(m.jsx)("tbody",{children:t.map((function(e,t){return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:e.carId}),Object(m.jsx)("td",{children:Object(m.jsx)(k,{value:e.distance,text:""})}),Object(m.jsx)("td",{children:Object(m.jsx)(N,{value:e.velocity,text:""})}),Object(m.jsx)("td",{children:Object(m.jsx)(E,{value:e.time,text:""})}),Object(m.jsx)("td",{children:Object(m.jsx)(H,{value:e.fuel,text:""})})]},t)}))})]})},T=function(){var e=p(),t=Object(u.a)(e,2),r=t[0],n=t[1],a=O(n),i=Object(u.a)(a,2),l=i[0],o=i[1],j=Object(c.useState)(""),d=Object(u.a)(j,2),b=d[0],h=d[1];return Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{children:" Welcome!"}),Object(m.jsx)(J,{submit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";h(e.toUpperCase()),o()}}),Object(m.jsx)("hr",{}),Object(m.jsx)("h2",{children:b}),b&&Object(m.jsx)(g,{submit:function(e){return o(Object(s.a)(Object(s.a)({},e),{},{vehicle:b}))}}),b&&l.data1&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("hr",{}),Object(m.jsx)(I,{data:l})]}),Object(m.jsx)("hr",{}),Object(m.jsx)(_,{history:r})]})};i.a.render(Object(m.jsx)(n.a.StrictMode,{children:Object(m.jsx)(T,{})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.c4905038.chunk.js.map