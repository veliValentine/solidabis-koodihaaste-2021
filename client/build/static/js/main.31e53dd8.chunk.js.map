{"version":3,"sources":["hooks/useError.jsx","services/storageService.js","hooks/useDataHistory.jsx","components/results/Values.jsx","components/Table.jsx","components/History.jsx","components/Error.jsx","components/NavBar.jsx","services/carService.js","hooks/useData.jsx","components/consumptionForm/NumberInput.jsx","components/consumptionForm/index.jsx","components/results/Consumptiondata.jsx","components/results/DifferenceData.jsx","components/results/index.jsx","hooks/useCars.jsx","components/VehicleForm.jsx","components/MainPage.jsx","App.jsx","index.jsx"],"names":["timeoutId","useError","useState","error","setError","useEffect","clearTimeout","clearError","seconds","setTimeout","message","HISTORY_KEY","storageService","getHistory","history","localStorage","getItem","JSON","parse","atob","saveHistory","length","Error","setItem","btoa","stringify","clearHistory","removeItem","useDataHistory","setHistory","localHistory","data","truthfulData","filter","item","concat","Velocity","value","text","Distance","toFixed","Time","difference","differenceText","getDifferenceText","getTime","Math","abs","days","hours","minutes","daysText","hourValue","floor","ceil","Fuel","TableHead","children","TableBody","wrapTableRow","component","i","HistoryButtons","className","onClick","event","preventDefault","type","HistoryTable","map","index","carId","distance","velocity","time","fuel","History","slice","style","color","NavBar","to","CARS_API_URL","carService","cars","a","axios","get","console","consumption","vehicle","compare","velocity1","velocity2","useData","updateError","addHistory","data1","setData1","data2","setData2","setDifference","updateData","values","setData","handleError","errorMessage","includes","NumberInput","id","setValue","required","placeholder","label","min","max","handleChange","target","htmlFor","onChange","step","ConsumptionForm","submit","setDistance","setVelocity1","setVelocity2","optionalVelocityLabel","title","onSubmit","Number","ConsumptionData","rows","DifferenceData","Results","useCars","setCars","serverCars","getCars","VehicleForm","options","toUpperCase","MainPage","setVehicle","showResults","App","dataHistory","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.31e53dd8.chunk.js","sourcesContent":["import { useState, useEffect } from 'react';\r\n\r\nlet timeoutId;\r\n\r\nconst useError = () => {\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => () => clearTimeout(timeoutId), []);\r\n\r\n  const updateError = (message, seconds = 10) => {\r\n    setError(message);\r\n    clearError(seconds);\r\n  };\r\n\r\n  const clearError = (seconds = 0) => {\r\n    clearTimeout(timeoutId);\r\n    timeoutId = setTimeout(() => setError(null), 1000 * seconds);\r\n  };\r\n\r\n  return [error, updateError];\r\n};\r\n\r\nexport default useError;\r\n","const HISTORY_KEY = 'koodihaaste:dataHistory';\r\n\r\nconst getHistory = () => {\r\n  const history = localStorage.getItem(HISTORY_KEY);\r\n  if (!history) {\r\n    return [];\r\n  }\r\n  return JSON.parse(atob(history));\r\n};\r\n\r\nconst saveHistory = (history = []) => {\r\n  if (!history.length) throw new Error('No history to save');\r\n  localStorage.setItem(HISTORY_KEY, btoa(JSON.stringify(history)));\r\n};\r\n\r\nconst clearHistory = () => {\r\n  localStorage.removeItem(HISTORY_KEY);\r\n};\r\n\r\nconst storageService = {\r\n  getHistory,\r\n  saveHistory,\r\n  clearHistory,\r\n};\r\n\r\nexport default storageService;\r\n","import { useEffect, useState } from 'react';\r\n\r\nimport storageService from '../services/storageService';\r\n\r\nconst useDataHistory = () => {\r\n  const [history, setHistory] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const localHistory = storageService.getHistory();\r\n    if (localHistory) {\r\n      setHistory(localHistory);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (history.length) {\r\n      storageService.saveHistory(history);\r\n    }\r\n  }, [history]);\r\n\r\n  const addHistory = (...data) => {\r\n    const truthfulData = data.filter(item => item);\r\n    if (truthfulData.length) {\r\n      setHistory(truthfulData.concat(history));\r\n    }\r\n  };\r\n\r\n  const clearHistory = () => {\r\n    storageService.clearHistory();\r\n    setHistory([]);\r\n  };\r\n\r\n  return [history, addHistory, clearHistory];\r\n};\r\n\r\nexport default useDataHistory;\r\n","export const Velocity = ({ value, text = 'Velocity: ' }) => (\r\n  <span>{text}{value}km/h</span>\r\n);\r\n\r\nexport const Distance = ({ value, text = 'Distance: ' }) => (\r\n  <span>{text}{value.toFixed(1)}km</span>\r\n);\r\n\r\nexport const Time = ({ value, difference, text = 'Time: ' }) => {\r\n  const differenceText = difference ? getDifferenceText(value) : '';\r\n  const [days, hours, minutes] = getTime(Math.abs(value));\r\n  const daysText = days ? `${days} days ` : '';\r\n  return (\r\n    <span>{text}{daysText} {hours} hours and {minutes} minutes {differenceText}</span>\r\n  );\r\n};\r\n\r\nconst getDifferenceText = (hours) => {\r\n  if (hours === 0) return '';\r\n  return hours < 0 ? 'faster' : 'slower';\r\n};\r\n\r\nconst getTime = (hourValue) => {\r\n  if (hourValue < 0) {\r\n    throw new Error('time is less than zero');\r\n  }\r\n  const days = Math.floor(hourValue / 24);\r\n  hourValue -= days * 24;\r\n  const hours = Math.floor(hourValue);\r\n  hourValue -= hours;\r\n  const minutes = Math.ceil(hourValue * 60);\r\n  return [days, hours, minutes];\r\n};\r\n\r\nexport const Fuel = ({ value, text = 'Fuel: ' }) => (\r\n  <span>{text}{value.toFixed(2)} liters</span>\r\n);\r\n","export const TableHead = ({ children }) => (\r\n  <thead>\r\n    <tr>\r\n      {children}\r\n    </tr>\r\n  </thead>\r\n);\r\n\r\nexport const TableBody = ({ children }) => (\r\n  <tbody>\r\n    {children}\r\n  </tbody>\r\n);\r\n\r\nexport const wrapTableRow = (component, i) => <tr key={i}><td>{component}</td></tr>;\r\n","import { Distance, Fuel, Time, Velocity } from './results/Values';\r\nimport { TableBody, TableHead } from './Table';\r\n\r\nconst History = ({ history = [], clearHistory }) => {\r\n  return (\r\n    <div className=\"history\">\r\n      <h2>History</h2>\r\n      <HistoryButtons\r\n        history={history}\r\n        clearHistory={clearHistory}\r\n      />\r\n      <HistoryTable history={history.slice(0, 5)} />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst HistoryButtons = ({ history = [], clearHistory }) => {\r\n  if (history.length < 1) return null;\r\n  const handleClear = (event) => {\r\n    event.preventDefault();\r\n    clearHistory();\r\n  };\r\n  return (\r\n    <div className=\"history-buttons\">\r\n      <button onClick={handleClear} type=\"button\">Clear history</button>\r\n    </div >\r\n  );\r\n};\r\n\r\nconst HistoryTable = ({ history = [] }) => {\r\n  if (!history.length) {\r\n    return <p>Nothing to show...</p>;\r\n  }\r\n  return (\r\n    <table className=\"history-table\">\r\n      <TableHead>\r\n        <th>Vehicle</th>\r\n        <th>Distance</th>\r\n        <th>Velocity</th>\r\n        <th>Time</th>\r\n        <th>Fuel</th>\r\n      </TableHead>\r\n      <TableBody>\r\n        {history.map((item, index) => (\r\n          <tr key={index}>\r\n            <td>{item.carId}</td>\r\n            <td><Distance value={item.distance} text=\"\" /></td>\r\n            <td><Velocity value={item.velocity} text=\"\" /></td>\r\n            <td><Time value={item.time} text=\"\" /></td>\r\n            <td><Fuel value={item.fuel} text=\"\" /></td>\r\n          </tr>\r\n        ))}\r\n      </TableBody>\r\n    </table>\r\n  );\r\n};\r\n\r\nexport default History;","\nconst Error = ({ message }) => {\n  if (!message) return null;\n  return (\n    <div className=\"error\">\n      <p style={{ color: 'red' }}>{message}</p>\n    </div>\n  );\n};\n\nexport default Error;","import { Link } from 'react-router-dom';\n\nconst NavBar = () => (\n  <nav className=\"navbar\">\n    <ul>\n      <li>\n        <Link to=\"/\">Home</Link>\n      </li>\n      <li>\n        <Link to=\"/history\">History</Link>\n      </li>\n    </ul>\n  </nav>\n);\n\nexport default NavBar;","import axios from 'axios';\r\n\r\nconst CARS_API_URL = '/api/v1/cars';\r\n\r\nexport const cars = async () => {\r\n  try {\r\n    const { data } = await axios.get(CARS_API_URL);\r\n    return data;\r\n  } catch (error) {\r\n    console.error(error);\r\n    throw new Error(error);\r\n  }\r\n};\r\n\r\nexport const consumption = async (vehicle, distance, velocity) => {\r\n  try {\r\n    const { data } = await axios.get(`${CARS_API_URL}/${vehicle}/${distance}/${velocity}`);\r\n    return data;\r\n  } catch (error) {\r\n    console.error(error, 'poop');\r\n    throw new Error(error);\r\n  }\r\n};\r\n\r\nexport const compare = async (vehicle, distance, velocity1, velocity2) => {\r\n  try {\r\n    const { data } = await axios.get(`${CARS_API_URL}/${vehicle}/${distance}/${velocity1}/${velocity2}`);\r\n    return data;\r\n  } catch (error) {\r\n    console.error(error);\r\n    throw new Error(error);\r\n  }\r\n};\r\n\r\nconst carService = {\r\n  cars,\r\n  consumption,\r\n  compare,\r\n};\r\n\r\nexport default carService;\r\n","import { useState } from 'react';\r\nimport carService from '../services/carService';\r\n\r\nconst useData = (updateError, addHistory) => {\r\n  const [data1, setData1] = useState(null);\r\n  const [data2, setData2] = useState(null);\r\n  const [difference, setDifference] = useState(null);\r\n\r\n  const updateData = async (values = {}) => {\r\n    const { vehicle, distance, velocity1, velocity2 } = values;\r\n    try {\r\n      if (velocity2) {\r\n        return setData(await carService.compare(vehicle, distance, velocity1, velocity2));\r\n      }\r\n      if (velocity1) {\r\n        return setData(await carService.consumption(vehicle, distance, velocity1));\r\n      }\r\n      return setData();\r\n    } catch (error) {\r\n      handleError(error);\r\n    }\r\n  };\r\n\r\n  const handleError = (error) => {\r\n    if (error instanceof Error) {\r\n      const errorMessage = error.message;\r\n      if (errorMessage.includes('status code 500')) {\r\n        updateError('server not responding');\r\n      } else if (errorMessage.includes('status code 400')) {\r\n        updateError('invalid input values');\r\n      } else {\r\n        updateError(error.message);\r\n      }\r\n    } else {\r\n      updateData('An error happened');\r\n    }\r\n  };\r\n\r\n  const setData = (data = {}) => {\r\n    const { data1 = null, data2 = null, difference = null } = data;\r\n    setData1(data1);\r\n    setData2(data2);\r\n    addHistory(data1, data2);\r\n    setDifference(difference);\r\n  };\r\n  const data = {\r\n    data1,\r\n    data2,\r\n    difference\r\n  };\r\n  return [data, updateData];\r\n};\r\n\r\nexport default useData;\r\n","\r\nconst NumberInput = ({\r\n  id,\r\n  value,\r\n  setValue,\r\n  required = false,\r\n  placeholder = '',\r\n  label = '',\r\n  min = 0,\r\n  max = 500,\r\n}) => {\r\n  const handleChange = (event) => setValue(event.target.value);\r\n  return (\r\n    <div className=\"number-inputs\">\r\n      <label htmlFor={id}>{label}</label>\r\n      <input\r\n        id={id}\r\n        type=\"number\"\r\n        value={value}\r\n        placeholder={placeholder}\r\n        onChange={handleChange}\r\n        min={min}\r\n        max={max}\r\n        step=\"0.1\"\r\n        required={required}\r\n      />\r\n      <input\r\n        type=\"range\"\r\n        value={value}\r\n        placeholder={placeholder}\r\n        onChange={handleChange}\r\n        min={min}\r\n        max=\"500\"\r\n        step=\"10\"\r\n        required={required}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NumberInput;\r\n","import { useState } from 'react';\r\nimport NumberInput from './NumberInput';\r\n\r\nconst ConsumptionForm = ({ submit }) => {\r\n  const [distance, setDistance] = useState(100);\r\n  const [velocity1, setVelocity1] = useState(100);\r\n  const [velocity2, setVelocity2] = useState(0);\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    submit({\r\n      distance: Number(distance),\r\n      velocity1: Number(velocity1),\r\n      velocity2: Number(velocity2),\r\n    });\r\n  };\r\n\r\n  const optionalVelocityLabel = <span>Enter second velocity (km/h) <abbr title=\"optional\">*</abbr>: </span>;\r\n\r\n  return (\r\n    <form className=\"consumption-form\" onSubmit={handleSubmit}>\r\n      <NumberInput\r\n        id=\"distance\"\r\n        value={distance}\r\n        setValue={setDistance}\r\n        placeholder=\"Distance (km/h)\"\r\n        label=\"Enter distance (km): \"\r\n        required\r\n        min={0.1}\r\n      />\r\n      <NumberInput\r\n        id=\"velocity1\"\r\n        value={velocity1}\r\n        setValue={setVelocity1}\r\n        placeholder=\"Velocity (km/h)\"\r\n        label=\"Enter first velocity (km/h): \"\r\n        required\r\n        min={1}\r\n        max={30000}\r\n      />\r\n      <NumberInput\r\n        id=\"velocity2\"\r\n        value={velocity2}\r\n        setValue={setVelocity2}\r\n        placeholder=\"Velocity (km/h)\"\r\n        label={optionalVelocityLabel}\r\n        max={30000}\r\n      />\r\n      <button type=\"submit\">Submit</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default ConsumptionForm;\r\n","import { TableBody, TableHead, wrapTableRow } from '../Table';\r\nimport { Distance, Fuel, Time, Velocity } from './Values';\r\n\r\nconst ConsumptionData = ({ data }) => {\r\n  const { velocity, distance, time, fuel } = data;\r\n\r\n  const rows = [\r\n    <Distance value={distance} />,\r\n    <Time value={time} />,\r\n    <Fuel value={fuel} />\r\n  ].map(wrapTableRow);\r\n\r\n  return (\r\n    <table className=\"consumption\">\r\n      <TableHead>\r\n        <th><Velocity value={velocity} /></th>\r\n      </TableHead>\r\n      <TableBody>\r\n        {rows}\r\n      </TableBody>\r\n    </table>\r\n  );\r\n};\r\n\r\nexport default ConsumptionData;\r\n","import { TableBody, TableHead, wrapTableRow } from '../Table';\r\nimport { Fuel, Time } from './Values';\r\n\r\nconst DifferenceData = ({ difference }) => {\r\n  const { time, fuel } = difference;\r\n  const rows = [\r\n    <Time value={time} difference />,\r\n    <Fuel value={fuel} />\r\n  ].map(wrapTableRow);\r\n\r\n  return (\r\n    <table className=\"difference\">\r\n      <TableHead>\r\n        <th>Difference</th>\r\n      </TableHead>\r\n      <TableBody>\r\n        {rows}\r\n      </TableBody>\r\n    </table>\r\n  );\r\n};\r\n\r\nexport default DifferenceData;\r\n","import ConsumptionData from './Consumptiondata';\r\nimport DifferenceData from './DifferenceData';\r\nimport './results.css';\r\n\r\nconst Results = ({ data }) => {\r\n  const { data1, data2, difference } = data;\r\n  const noData = !data1;\r\n  if (noData) {\r\n    return null;\r\n  }\r\n  const noComparison = data1 && (!data2 || !difference);\r\n  if (noComparison) {\r\n    return (\r\n      <div className=\"results\">\r\n        <h2>Results:</h2>\r\n        <div className=\"results-data\">\r\n          <ConsumptionData data={data1} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <div className=\"results\">\r\n      <h2>Results:</h2>\r\n      <div className=\"results-data\">\r\n        <ConsumptionData data={data1} />\r\n        <ConsumptionData data={data2} />\r\n        <DifferenceData difference={difference} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Results;\r\n","import { useState, useEffect } from 'react';\r\n\r\nimport carService from '../services/carService';\r\n\r\nconst useCars = (updateError) => {\r\n  const [cars, setCars] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const getCars = async () => {\r\n      try {\r\n        const serverCars = await carService.cars();\r\n        if (serverCars) {\r\n          setCars(serverCars);\r\n        }\r\n      } catch (error) {\r\n        updateError('Could not get vehicle information from server.');\r\n      }\r\n    };\r\n\r\n    getCars();\r\n  }, [updateError]);\r\n\r\n  return [cars];\r\n};\r\n\r\nexport default useCars;","import useCars from '../hooks/useCars';\r\n\r\nconst VehicleForm = ({ submit, updateError }) => {\r\n  const [cars] = useCars(updateError);\r\n\r\n  if (!cars) return null;\r\n\r\n  if (cars.length < 1){\r\n    return <p>Could not find any cars from database!</p>;\r\n  }\r\n\r\n  const handleChange = (event) => submit(event.target.value.toUpperCase());\r\n\r\n  const carOption = ({ id }) => <option key={id} value={id}>{id}</option>;\r\n  const options = cars.map(carOption);\r\n\r\n  return (\r\n    <div className=\"vehicle-form\">\r\n      <label htmlFor=\"vehicle\">Choose vehicle: </label>\r\n      <select id=\"vehicle\" onChange={handleChange}>\r\n        <option value=\"\">Select vehicle</option>\r\n        {options}\r\n      </select>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VehicleForm;\r\n","import { useState } from 'react';\n\nimport useData from '../hooks/useData';\n\nimport ConsumptionForm from './consumptionForm';\nimport Results from './results';\nimport VehicleForm from './VehicleForm';\n\nconst MainPage = ({ updateError, addHistory }) => {\n  const [vehicle, setVehicle] = useState('');\n  const [data, updateData] = useData(updateError, addHistory);\n\n  const handleVehicleSubmit = (value = '') => {\n    setVehicle(value.toUpperCase());\n    updateData();\n  };\n  const handleVelocitySubmit = (values) => updateData({ ...values, vehicle });\n  const showResults = vehicle && data.data1;\n  return (\n    <div className=\"main-page\">\n      <h1> Welcome!</h1>\n      <VehicleForm submit={handleVehicleSubmit} updateError={updateError} />\n      <h2>{vehicle}</h2>\n      {vehicle ? <ConsumptionForm submit={handleVelocitySubmit} /> : null}\n      {showResults ? <><hr /><Results data={data} /></> : null}\n    </div>\n  );\n};\n\nexport default MainPage;\n","import React from 'react';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n} from 'react-router-dom';\r\n\r\nimport useError from './hooks/useError';\r\nimport useDataHistory from './hooks/useDataHistory';\r\n\r\nimport History from './components/History';\r\nimport Error from './components/Error';\r\nimport NavBar from './components/NavBar';\r\nimport MainPage from './components/MainPage';\r\n\r\nconst App = () => {\r\n  const [error, updateError] = useError();\r\n  const [dataHistory, addHistory, clearHistory] = useDataHistory();\r\n\r\n  return (\r\n    <Router>\r\n      <NavBar />\r\n      <Error message={error} />\r\n      <Switch>\r\n        <Route path=\"/history\">\r\n          <History history={dataHistory} clearHistory={clearHistory} />\r\n        </Route>\r\n        <Route path=\"/\">\r\n          <MainPage updateError={updateError} addHistory={addHistory} />\r\n        </Route>\r\n      </Switch>\r\n    </Router>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}