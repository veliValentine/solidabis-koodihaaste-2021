{"version":3,"sources":["hooks/useError.jsx","services/storageService.js","hooks/useDataHistory.jsx","services/carService.js","hooks/useData.jsx","components/consumptionForm/NumberInput.jsx","components/consumptionForm/index.jsx","components/Table.jsx","components/results/Values.jsx","components/results/Consumptiondata.jsx","components/results/DifferenceData.jsx","components/results/index.jsx","hooks/useCars.jsx","components/VehicleForm.jsx","components/History.jsx","components/Error.jsx","App.jsx","index.jsx"],"names":["timeoutId","useError","useState","error","setError","useEffect","clearTimeout","clearError","seconds","setTimeout","message","HISTORY_KEY","storageService","getHistory","history","localStorage","getItem","JSON","parse","atob","saveHistory","length","Error","setItem","btoa","stringify","clearHistory","removeItem","useDataHistory","setHistory","localHistory","data","truthfulData","filter","item","concat","CARS_API_URL","carService","cars","a","axios","get","console","consumption","vehicle","distance","velocity","compare","velocity1","velocity2","useData","updateError","addHistory","data1","setData1","data2","setData2","difference","setDifference","updateData","values","setData","handleError","errorMessage","includes","NumberInput","id","value","setValue","required","placeholder","label","min","max","handleChange","event","target","className","htmlFor","type","onChange","step","ConsumptionForm","submit","setDistance","setVelocity1","setVelocity2","optionalVelocityLabel","title","onSubmit","preventDefault","Number","TableHead","children","TableBody","wrapTableRow","component","i","Velocity","text","Distance","toFixed","Time","differenceText","getDifferenceText","getTime","Math","abs","days","hours","minutes","daysText","hourValue","floor","ceil","Fuel","ConsumptionData","time","fuel","rows","map","DifferenceData","Results","useCars","setCars","getCars","serverCars","VehicleForm","options","toUpperCase","HistoryButtons","onClick","HistoryTable","index","carId","History","slice","style","color","App","dataHistory","setVehicle","showResults","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d0e1638f.chunk.js","sourcesContent":["import { useState, useEffect } from 'react';\r\n\r\nlet timeoutId;\r\n\r\nconst useError = () => {\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => () => clearTimeout(timeoutId), []);\r\n\r\n  const updateError = (message, seconds = 5) => {\r\n    setError(message);\r\n    clearError(seconds);\r\n  };\r\n\r\n  const clearError = (seconds = 0) => {\r\n    clearTimeout(timeoutId);\r\n    timeoutId = setTimeout(() => setError(null), 1000 * seconds);\r\n  };\r\n\r\n  return [error, updateError];\r\n};\r\n\r\nexport default useError;\r\n","const HISTORY_KEY = 'koodihaaste:dataHistory';\r\n\r\nconst getHistory = () => {\r\n  const history = localStorage.getItem(HISTORY_KEY);\r\n  if (!history) {\r\n    return [];\r\n  }\r\n  return JSON.parse(atob(history));\r\n};\r\n\r\nconst saveHistory = (history = []) => {\r\n  if (!history.length) throw new Error('No history to save');\r\n  localStorage.setItem(HISTORY_KEY, btoa(JSON.stringify(history)));\r\n};\r\n\r\nconst clearHistory = () => {\r\n  localStorage.removeItem(HISTORY_KEY);\r\n};\r\n\r\nconst storageService = {\r\n  getHistory,\r\n  saveHistory,\r\n  clearHistory,\r\n};\r\n\r\nexport default storageService;\r\n","import { useEffect, useState } from 'react';\r\n\r\nimport storageService from '../services/storageService';\r\n\r\nconst useDataHistory = () => {\r\n  const [history, setHistory] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const localHistory = storageService.getHistory();\r\n    if (localHistory) {\r\n      setHistory(localHistory);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (history.length) {\r\n      storageService.saveHistory(history);\r\n    }\r\n  }, [history]);\r\n\r\n  const addHistory = (...data) => {\r\n    const truthfulData = data.filter(item => item);\r\n    if (truthfulData.length) {\r\n      setHistory(truthfulData.concat(history));\r\n    }\r\n  };\r\n\r\n  const clearHistory = () => {\r\n    storageService.clearHistory();\r\n    setHistory([]);\r\n  };\r\n\r\n  return [history, addHistory, clearHistory];\r\n};\r\n\r\nexport default useDataHistory;\r\n","import axios from 'axios';\r\n\r\nconst CARS_API_URL = '/api/v1/cars';\r\n\r\nexport const cars = async () => {\r\n  try {\r\n    const { data } = await axios.get(CARS_API_URL);\r\n    return data;\r\n  } catch (error) {\r\n    console.error(error);\r\n    throw new Error(error);\r\n  }\r\n};\r\n\r\nexport const consumption = async (vehicle, distance, velocity) => {\r\n  try {\r\n    const { data } = await axios.get(`${CARS_API_URL}/${vehicle}/${distance}/${velocity}`);\r\n    return data;\r\n  } catch (error) {\r\n    console.error(error, 'poop');\r\n    throw new Error(error);\r\n  }\r\n};\r\n\r\nexport const compare = async (vehicle, distance, velocity1, velocity2) => {\r\n  try {\r\n    const { data } = await axios.get(`${CARS_API_URL}/${vehicle}/${distance}/${velocity1}/${velocity2}`);\r\n    return data;\r\n  } catch (error) {\r\n    console.error(error);\r\n    throw new Error(error);\r\n  }\r\n};\r\n\r\nconst carService = {\r\n  cars,\r\n  consumption,\r\n  compare,\r\n};\r\n\r\nexport default carService;\r\n","import { useState } from 'react';\r\nimport carService from '../services/carService';\r\n\r\nconst useData = (updateError, addHistory) => {\r\n  const [data1, setData1] = useState(null);\r\n  const [data2, setData2] = useState(null);\r\n  const [difference, setDifference] = useState(null);\r\n\r\n  const updateData = async (values = {}) => {\r\n    const { vehicle, distance, velocity1, velocity2 } = values;\r\n    try {\r\n      if (velocity2) {\r\n        return setData(await carService.compare(vehicle, distance, velocity1, velocity2));\r\n      }\r\n      if (velocity1) {\r\n        return setData(await carService.consumption(vehicle, distance, velocity1));\r\n      }\r\n      return setData();\r\n    } catch (error) {\r\n      handleError(error);\r\n    }\r\n  };\r\n\r\n  const handleError = (error) => {\r\n    if (error instanceof Error) {\r\n      const errorMessage = error.message;\r\n      if (errorMessage.includes('status code 500')) {\r\n        updateError('server not responding');\r\n      } else if (errorMessage.includes('status code 400')) {\r\n        updateError('invalid input values');\r\n      } else {\r\n        updateError(error.message);\r\n      }\r\n    } else {\r\n      updateData('An error happened');\r\n    }\r\n  };\r\n\r\n  const setData = (data = {}) => {\r\n    const { data1 = null, data2 = null, difference = null } = data;\r\n    setData1(data1);\r\n    setData2(data2);\r\n    addHistory(data1, data2);\r\n    setDifference(difference);\r\n  };\r\n  const data = {\r\n    data1,\r\n    data2,\r\n    difference\r\n  };\r\n  return [data, updateData];\r\n};\r\n\r\nexport default useData;\r\n","\r\nconst NumberInput = ({\r\n  id,\r\n  value,\r\n  setValue,\r\n  required = false,\r\n  placeholder = '',\r\n  label = '',\r\n  min = 0,\r\n  max = 500,\r\n}) => {\r\n  const handleChange = (event) => setValue(event.target.value);\r\n  return (\r\n    <div className=\"number-inputs\">\r\n      <label htmlFor={id}>{label}</label>\r\n      <input\r\n        id={id}\r\n        type=\"number\"\r\n        value={value}\r\n        placeholder={placeholder}\r\n        onChange={handleChange}\r\n        min={min}\r\n        max={max}\r\n        step=\"0.1\"\r\n        required={required}\r\n      />\r\n      <input\r\n        type=\"range\"\r\n        value={value}\r\n        placeholder={placeholder}\r\n        onChange={handleChange}\r\n        min={min}\r\n        max=\"500\"\r\n        step=\"10\"\r\n        required={required}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NumberInput;\r\n","import { useState } from 'react';\r\nimport NumberInput from './NumberInput';\r\n\r\nconst ConsumptionForm = ({ submit }) => {\r\n  const [distance, setDistance] = useState(100);\r\n  const [velocity1, setVelocity1] = useState(100);\r\n  const [velocity2, setVelocity2] = useState(0);\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    submit({\r\n      distance: Number(distance),\r\n      velocity1: Number(velocity1),\r\n      velocity2: Number(velocity2),\r\n    });\r\n  };\r\n\r\n  const optionalVelocityLabel = <span>Enter second velocity (km/h) <abbr title=\"optional\">*</abbr>: </span>;\r\n\r\n  return (\r\n    <form className=\"consumption-form\" onSubmit={handleSubmit}>\r\n      <NumberInput\r\n        id=\"distance\"\r\n        value={distance}\r\n        setValue={setDistance}\r\n        placeholder=\"Distance (km/h)\"\r\n        label=\"Enter distance (km): \"\r\n        required\r\n        min={0.1}\r\n      />\r\n      <NumberInput\r\n        id=\"velocity1\"\r\n        value={velocity1}\r\n        setValue={setVelocity1}\r\n        placeholder=\"Velocity (km/h)\"\r\n        label=\"Enter first velocity (km/h): \"\r\n        required\r\n        min={1}\r\n        max={30000}\r\n      />\r\n      <NumberInput\r\n        id=\"velocity2\"\r\n        value={velocity2}\r\n        setValue={setVelocity2}\r\n        placeholder=\"Velocity (km/h)\"\r\n        label={optionalVelocityLabel}\r\n        max={30000}\r\n      />\r\n      <button type=\"submit\">Submit</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default ConsumptionForm;\r\n","export const TableHead = ({ children }) => (\r\n  <thead>\r\n    <tr>\r\n      {children}\r\n    </tr>\r\n  </thead>\r\n);\r\n\r\nexport const TableBody = ({ children }) => (\r\n  <tbody>\r\n    {children}\r\n  </tbody>\r\n);\r\n\r\nexport const wrapTableRow = (component, i) => <tr key={i}><td>{component}</td></tr>;\r\n","export const Velocity = ({ value, text = 'Velocity: ' }) => (\r\n  <span>{text}{value}km/h</span>\r\n);\r\n\r\nexport const Distance = ({ value, text = 'Distance: ' }) => (\r\n  <span>{text}{value.toFixed(1)}km</span>\r\n);\r\n\r\nexport const Time = ({ value, difference, text = 'Time: ' }) => {\r\n  const differenceText = difference ? getDifferenceText(value) : '';\r\n  const [days, hours, minutes] = getTime(Math.abs(value));\r\n  const daysText = days ? `${days} days ` : '';\r\n  return (\r\n    <span>{text}{daysText} {hours} hours and {minutes} minutes {differenceText}</span>\r\n  );\r\n};\r\n\r\nconst getDifferenceText = (hours) => {\r\n  if (hours === 0) return '';\r\n  return hours < 0 ? 'faster' : 'slower';\r\n};\r\n\r\nconst getTime = (hourValue) => {\r\n  if (hourValue < 0) {\r\n    throw new Error('time is less than zero');\r\n  }\r\n  const days = Math.floor(hourValue / 24);\r\n  hourValue -= days * 24;\r\n  const hours = Math.floor(hourValue);\r\n  hourValue -= hours;\r\n  const minutes = Math.ceil(hourValue * 60);\r\n  return [days, hours, minutes];\r\n};\r\n\r\nexport const Fuel = ({ value, text = 'Fuel: ' }) => (\r\n  <span>{text}{value.toFixed(2)} liters</span>\r\n);\r\n","import { TableBody, TableHead, wrapTableRow } from '../Table';\r\nimport { Distance, Fuel, Time, Velocity } from './Values';\r\n\r\nconst ConsumptionData = ({ data }) => {\r\n  const { velocity, distance, time, fuel } = data;\r\n\r\n  const rows = [\r\n    <Distance value={distance} />,\r\n    <Time value={time} />,\r\n    <Fuel value={fuel} />\r\n  ].map(wrapTableRow);\r\n\r\n  return (\r\n    <table className=\"consumption\">\r\n      <TableHead>\r\n        <th><Velocity value={velocity} /></th>\r\n      </TableHead>\r\n      <TableBody>\r\n        {rows}\r\n      </TableBody>\r\n    </table>\r\n  );\r\n};\r\n\r\nexport default ConsumptionData;\r\n","import { TableBody, TableHead, wrapTableRow } from '../Table';\r\nimport { Fuel, Time } from './Values';\r\n\r\nconst DifferenceData = ({ difference }) => {\r\n  const { time, fuel } = difference;\r\n  const rows = [\r\n    <Time value={time} difference />,\r\n    <Fuel value={fuel} />\r\n  ].map(wrapTableRow);\r\n\r\n  return (\r\n    <table className=\"difference\">\r\n      <TableHead>\r\n        <th>Difference</th>\r\n      </TableHead>\r\n      <TableBody>\r\n        {rows}\r\n      </TableBody>\r\n    </table>\r\n  );\r\n};\r\n\r\nexport default DifferenceData;\r\n","import ConsumptionData from './Consumptiondata';\r\nimport DifferenceData from './DifferenceData';\r\nimport './results.css';\r\n\r\nconst Results = ({ data }) => {\r\n  const { data1, data2, difference } = data;\r\n  const noData = !data1;\r\n  if (noData) {\r\n    return null;\r\n  }\r\n  const noComparison = data1 && (!data2 || !difference);\r\n  if (noComparison) {\r\n    return (\r\n      <div className=\"results\">\r\n        <ConsumptionData data={data1} />\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <div className=\"results\">\r\n      <ConsumptionData data={data1} />\r\n      <ConsumptionData data={data2} />\r\n      <DifferenceData difference={difference} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Results;\r\n","import { useState, useEffect } from 'react';\r\nimport carService from '../services/carService';\r\n\r\nconst useCars = (updateError) => {\r\n  const [cars, setCars] = useState([]);\r\n  useEffect(() => {\r\n    getCars();\r\n  }, []);\r\n\r\n  const getCars = async () => {\r\n    try {\r\n      const serverCars = await carService.cars();\r\n      if (serverCars) {\r\n        setCars(serverCars);\r\n      }\r\n    } catch (error) {\r\n      updateError('Could not get vehicle information from server.');\r\n    }\r\n  };\r\n\r\n  return [cars, getCars];\r\n};\r\n\r\nexport default useCars;","import useCars from '../hooks/useCars';\r\n\r\nconst VehicleForm = ({ submit, updateError }) => {\r\n  const [cars] = useCars(updateError);\r\n\r\n  if (!cars) return null;\r\n\r\n  const handleChange = (event) => submit(event.target.value.toUpperCase());\r\n\r\n  const carOption = ({ id }) => <option key={id} value={id}>{id}</option>;\r\n  const options = cars.map(carOption);\r\n\r\n  return (\r\n    <div className=\"vehicle-form\">\r\n      <label htmlFor=\"vehicle\">Choose vehicle: </label>\r\n      <select id=\"vehicle\" onChange={handleChange}>\r\n        <option value=\"\">Select vehicle</option>\r\n        {options}\r\n      </select>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VehicleForm;\r\n","import { Distance, Fuel, Time, Velocity } from './results/Values';\r\nimport { TableBody, TableHead } from './Table';\r\n\r\nconst History = ({ history = [], clearHistory }) => {\r\n  return (\r\n    <div className=\"history\">\r\n      <h2>History</h2>\r\n      <HistoryButtons\r\n        history={history}\r\n        clearHistory={clearHistory}\r\n      />\r\n      <HistoryTable history={history.slice(0, 5)} />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst HistoryButtons = ({ history = [], clearHistory }) => {\r\n  if (history.length < 1) return null;\r\n  const handleClear = (event) => {\r\n    event.preventDefault();\r\n    clearHistory();\r\n  };\r\n  return (\r\n    <div className=\"history-buttons\">\r\n      <button onClick={handleClear} type=\"button\">Clear history</button>\r\n    </div >\r\n  );\r\n};\r\n\r\nconst HistoryTable = ({ history = [] }) => {\r\n  if (!history.length) {\r\n    return <p>Nothing to show...</p>;\r\n  }\r\n  return (\r\n    <table className=\"history-table\">\r\n      <TableHead>\r\n        <th>Vehicle</th>\r\n        <th>Distance</th>\r\n        <th>Velocity</th>\r\n        <th>Time</th>\r\n        <th>Fuel</th>\r\n      </TableHead>\r\n      <TableBody>\r\n        {history.map((item, index) => (\r\n          <tr key={index}>\r\n            <td>{item.carId}</td>\r\n            <td><Distance value={item.distance} text=\"\" /></td>\r\n            <td><Velocity value={item.velocity} text=\"\" /></td>\r\n            <td><Time value={item.time} text=\"\" /></td>\r\n            <td><Fuel value={item.fuel} text=\"\" /></td>\r\n          </tr>\r\n        ))}\r\n      </TableBody>\r\n    </table>\r\n  );\r\n};\r\n\r\nexport default History;","\nconst Error = ({ message }) => {\n  if (!message) return null;\n  return (\n    <div className=\"error\">\n      <p style={{ color: 'red' }}>{message}</p>\n    </div>\n  );\n};\n\nexport default Error;","import React, { useState } from 'react';\r\n\r\nimport useError from './hooks/useError';\r\nimport useDataHistory from './hooks/useDataHistory';\r\nimport useData from './hooks/useData';\r\n\r\nimport ConsumptionForm from './components/consumptionForm';\r\nimport Results from './components/results';\r\nimport VehicleForm from './components/VehicleForm';\r\nimport History from './components/History';\r\nimport Error from './components/Error';\r\n\r\nconst App = () => {\r\n  const [error, updateError] = useError();\r\n  const [dataHistory, addHistory, clearHistory] = useDataHistory();\r\n  const [data, updateData] = useData(updateError, addHistory);\r\n  const [vehicle, setVehicle] = useState('A');\r\n\r\n  const handleVehicleSubmit = (value = '') => {\r\n    setVehicle(value.toUpperCase());\r\n    updateData();\r\n  };\r\n\r\n  const handleVelocitySubmit = (values) => updateData({ ...values, vehicle });\r\n  const showResults = vehicle && data.data1;\r\n  return (\r\n    <div>\r\n      <h1> Welcome!</h1>\r\n      <Error message={error} />\r\n      <VehicleForm submit={handleVehicleSubmit} updateError={updateError} />\r\n      <hr />\r\n      <h2>{vehicle}</h2>\r\n      {vehicle ? <ConsumptionForm submit={handleVelocitySubmit} /> : null}\r\n      {showResults ? <><hr /><Results data={data} /></> : null}\r\n      <hr />\r\n      <History history={dataHistory} clearHistory={clearHistory} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}