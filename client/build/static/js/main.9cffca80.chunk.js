(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{42:function(e,t,r){},43:function(e,t,r){"use strict";r.r(t);var n=r(1),c=r.n(n),a=r(17),i=r.n(a),s=r(8),u=r(2),l=r(4),o=r.n(l),j=r(5),b=r(6),d=r.n(b),h="/api/v1/cars",v={cars:function(){var e=Object(j.a)(o.a.mark((function e(){var t,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get(h);case 3:return t=e.sent,r=t.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),consumption:function(){var e=Object(j.a)(o.a.mark((function e(t,r,n){var c,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("".concat(h,"/").concat(t,"/").concat(r,"/").concat(n));case 3:return c=e.sent,a=c.data,e.abrupt("return",a);case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r,n){return e.apply(this,arguments)}}(),compare:function(){var e=Object(j.a)(o.a.mark((function e(t,r,n,c){var a,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("".concat(h,"/").concat(t,"/").concat(r,"/").concat(n,"/").concat(c));case 3:return a=e.sent,i=a.data,e.abrupt("return",i);case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r,n,c){return e.apply(this,arguments)}}()},O=function(e){var t=Object(n.useState)(null),r=Object(u.a)(t,2),c=r[0],a=r[1],i=Object(n.useState)(null),s=Object(u.a)(i,2),l=s[0],b=s[1],d=Object(n.useState)(null),h=Object(u.a)(d,2),O=h[0],f=h[1],x=function(){var e=Object(j.a)(o.a.mark((function e(){var t,r,n,c,a,i=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:{},r=t.vehicle,n=t.distance,c=t.velocity1,!(a=t.velocity2)){e.next=8;break}return e.t0=p,e.next=6,v.compare(r,n,c,a);case 6:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 8:if(!c){e.next=14;break}return e.t2=p,e.next=12,v.consumption(r,n,c);case 12:return e.t3=e.sent,e.abrupt("return",(0,e.t2)(e.t3));case 14:return e.abrupt("return",p());case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.data1,n=void 0===r?null:r,c=t.data2,i=void 0===c?null:c,s=t.difference,u=void 0===s?null:s;a(n),b(i),e(n,i),f(u)};return[{data1:c,data2:l,difference:O},x]},f="koodihaaste:dataHistory",x={getHistory:function(){var e=localStorage.getItem(f);return e?JSON.parse(atob(e)):[]},saveHistory:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!e.length)throw new Error("No history to save");localStorage.setItem(f,btoa(JSON.stringify(e)))},clearHistory:function(){localStorage.removeItem(f)}},p=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),r=t[0],c=t[1];Object(n.useEffect)((function(){var e=x.getHistory();e&&c(e)}),[]),Object(n.useEffect)((function(){r.length&&x.saveHistory(r)}),[r]);return[r,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t.filter((function(e){return e}));a.length&&c(a.concat(r))},function(){x.clearHistory(),c([])}]},m=r(0),y=function(e){var t=e.id,r=e.value,n=e.setValue,c=e.required,a=e.placeholder,i=e.label,s=void 0===i?"Enter velocity: ":i,u=e.min,l=void 0===u?0:u,o=function(e){return n(e.target.value)};return Object(m.jsxs)("div",{className:"number-inputs",children:[Object(m.jsx)("label",{htmlFor:t,children:s}),Object(m.jsx)("input",{id:t,type:"number",value:r,placeholder:a,onChange:o,min:l,step:"0.1",required:c}),Object(m.jsx)("input",{type:"range",value:r,placeholder:a,onChange:o,min:l,max:"500",step:"10",required:c})]})},g=function(e){var t=e.submit,r=Object(n.useState)(20),c=Object(u.a)(r,2),a=c[0],i=c[1],s=Object(n.useState)(50),l=Object(u.a)(s,2),o=l[0],j=l[1],b=Object(n.useState)(0),d=Object(u.a)(b,2),h=d[0],v=d[1];return Object(m.jsxs)("form",{className:"velocity",onSubmit:function(e){e.preventDefault(),t({distance:Number(a),velocity1:Number(o),velocity2:Number(h)})},children:[Object(m.jsx)(y,{id:"distance",value:a,setValue:i,placeholder:"Distance",label:"Enter distance: ",required:!0,min:.1}),Object(m.jsx)(y,{id:"velocity1",value:o,setValue:j,placeholder:"Velocity",label:"Enter first velocity: ",required:!0,min:1}),Object(m.jsx)(y,{id:"velocity2",value:h,setValue:v,placeholder:"Velocity",label:"Enter second velocity (optional):"}),Object(m.jsx)("button",{type:"submit",children:"Submit"})]})},w=function(e){var t=e.children;return Object(m.jsx)("thead",{children:Object(m.jsx)("tr",{children:t})})},S=function(e){var t=e.children;return Object(m.jsx)("tbody",{children:t})},N=function(e,t){return Object(m.jsx)("tr",{children:Object(m.jsx)("td",{children:e})},t)},k=function(e){var t=e.value,r=e.text,n=void 0===r?"Velocity: ":r;return Object(m.jsxs)("span",{children:[n,t,"km/h"]})},H=function(e){var t=e.value,r=e.text,n=void 0===r?"Distance: ":r;return Object(m.jsxs)("span",{children:[n,t.toFixed(1),"km"]})},E=function(e){var t=e.value,r=e.difference,n=e.text,c=void 0===n?"Time: ":n,a=r?V(t):"",i=C(Math.abs(t)),s=Object(u.a)(i,3),l=s[0],o=s[1],j=s[2],b=l?"".concat(l," days "):"";return Object(m.jsxs)("span",{children:[c,b," ",o," hours and ",j," minutes ",a]})},V=function(e){return 0===e?"":e<0?"faster":"slower"},C=function(e){if(e<0)throw new Error("time is less than zero");var t=Math.floor(e/24);e-=24*t;var r=Math.floor(e);return e-=r,[t,r,Math.ceil(60*e)]},F=function(e){var t=e.value,r=e.text,n=void 0===r?"Fuel: ":r;return Object(m.jsxs)("span",{children:[n,t.toFixed(2)," liters"]})},D=function(e){var t=e.data,r=t.velocity,n=t.distance,c=t.time,a=t.fuel,i=[Object(m.jsx)(H,{value:n}),Object(m.jsx)(E,{value:c}),Object(m.jsx)(F,{value:a})].map(N);return Object(m.jsxs)("table",{className:"consumption",children:[Object(m.jsx)(w,{children:Object(m.jsx)("th",{children:Object(m.jsx)(k,{value:r})})}),Object(m.jsx)(S,{children:i})]})},q=function(e){var t=e.difference,r=t.time,n=t.fuel,c=[Object(m.jsx)(E,{value:r,difference:!0}),Object(m.jsx)(F,{value:n})].map(N);return Object(m.jsxs)("table",{className:"difference",children:[Object(m.jsx)(w,{children:Object(m.jsx)("th",{children:"Difference"})}),Object(m.jsx)(S,{children:c})]})},I=(r(42),function(e){var t=e.data,r=t.data1,n=t.data2,c=t.difference;return r?r&&(!n||!c)?Object(m.jsx)("div",{className:"results",children:Object(m.jsx)(D,{data:r})}):Object(m.jsxs)("div",{className:"results",children:[Object(m.jsx)(D,{data:r}),Object(m.jsx)(D,{data:n}),Object(m.jsx)(q,{difference:c})]}):null}),M=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),r=t[0],c=t[1];Object(n.useEffect)((function(){a()}),[]);var a=function(){var e=Object(j.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.cars();case 2:(t=e.sent)&&c(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return[r,a]},J=function(e){var t=e.submit,r=M(),n=Object(u.a)(r,1)[0];if(!n)return null;var c=n.map((function(e){var t=e.id;return Object(m.jsx)("option",{value:t,children:t},t)}));return Object(m.jsxs)("div",{className:"vehicle-form",children:[Object(m.jsx)("label",{htmlFor:"vehicle",children:"Choose vehicle: "}),Object(m.jsxs)("select",{id:"vehicle",onChange:function(e){return t(e.target.value.toUpperCase())},children:[Object(m.jsx)("option",{value:"",children:"Select vehicle"}),c]})]})},T=function(e){var t=e.history,r=void 0===t?[]:t,n=e.clearHistory;if(r.length<1)return null;return Object(m.jsx)("div",{className:"history-buttons",children:Object(m.jsx)("button",{onClick:function(e){e.preventDefault(),n()},type:"button",children:"Clear history"})})},U=function(e){var t=e.history,r=void 0===t?[]:t;return r.length?Object(m.jsxs)("table",{className:"history-table",children:[Object(m.jsxs)(w,{children:[Object(m.jsx)("th",{children:"Vehicle"}),Object(m.jsx)("th",{children:"Distance"}),Object(m.jsx)("th",{children:"Velocity"}),Object(m.jsx)("th",{children:"Time"}),Object(m.jsx)("th",{children:"Fuel"})]}),Object(m.jsx)(S,{children:r.map((function(e,t){return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:e.carId}),Object(m.jsx)("td",{children:Object(m.jsx)(H,{value:e.distance,text:""})}),Object(m.jsx)("td",{children:Object(m.jsx)(k,{value:e.velocity,text:""})}),Object(m.jsx)("td",{children:Object(m.jsx)(E,{value:e.time,text:""})}),Object(m.jsx)("td",{children:Object(m.jsx)(F,{value:e.fuel,text:""})})]},t)}))})]}):Object(m.jsx)("p",{children:"Nothing to show..."})},z=function(e){var t=e.history,r=void 0===t?[]:t,n=e.clearHistory;return Object(m.jsxs)("div",{className:"history",children:[Object(m.jsx)("h2",{children:"History"}),Object(m.jsx)(T,{history:r,clearHistory:n}),Object(m.jsx)(U,{history:r.slice(0,5)})]})},A=function(){var e=p(),t=Object(u.a)(e,3),r=t[0],c=t[1],a=t[2],i=O(c),l=Object(u.a)(i,2),o=l[0],j=l[1],b=Object(n.useState)(""),d=Object(u.a)(b,2),h=d[0],v=d[1],f=h&&o.data1;return Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{children:" Welcome!"}),Object(m.jsx)(J,{submit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";v(e.toUpperCase()),j()}}),Object(m.jsx)("hr",{}),Object(m.jsx)("h2",{children:h}),h?Object(m.jsx)(g,{submit:function(e){return j(Object(s.a)(Object(s.a)({},e),{},{vehicle:h}))}}):null,f?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("hr",{}),Object(m.jsx)(I,{data:o})]}):null,Object(m.jsx)("hr",{}),Object(m.jsx)(z,{history:r,clearHistory:a})]})};i.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(A,{})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.9cffca80.chunk.js.map