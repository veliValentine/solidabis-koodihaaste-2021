{"version":3,"sources":["services/carService.js","hooks/useData.jsx","services/storageService.js","hooks/useDataHistory.jsx","components/consumptionForm/NumberInput.jsx","components/consumptionForm/index.jsx","components/Table.jsx","components/results/Values.jsx","components/results/Consumptiondata.jsx","components/results/DifferenceData.jsx","components/results/index.jsx","hooks/useCars.jsx","components/VehicleForm.jsx","components/History.jsx","App.jsx","index.jsx"],"names":["CARS_API_URL","carService","cars","a","axios","get","data","console","error","consumption","vehicle","distance","velocity","compare","velocity1","velocity2","useData","addHistory","useState","data1","setData1","data2","setData2","difference","setDifference","updateData","values","setData","HISTORY_KEY","storageService","getHistory","history","localStorage","getItem","JSON","parse","atob","saveHistory","length","Error","setItem","btoa","stringify","clearHistory","removeItem","useDataHistory","setHistory","useEffect","localHistory","truthfulData","filter","item","concat","NumberInput","id","value","setValue","required","placeholder","label","min","handleChange","event","target","className","htmlFor","type","onChange","step","max","ConsumptionForm","submit","setDistance","setVelocity1","setVelocity2","onSubmit","preventDefault","Number","TableHead","children","TableBody","wrapTableRow","component","i","Velocity","text","Distance","toFixed","Time","differenceText","getDifferenceText","getTime","Math","abs","days","hours","minutes","daysText","hourValue","floor","ceil","Fuel","ConsumptionData","time","fuel","rows","map","DifferenceData","Results","useCars","setCars","getCars","serverCars","VehicleForm","options","toUpperCase","HistoryButtons","onClick","HistoryTable","index","carId","History","slice","App","dataHistory","setVehicle","showResults","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9cffca80.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst CARS_API_URL = '/api/v1/cars';\r\n\r\nexport const cars = async () => {\r\n  try {\r\n    const { data } = await axios.get(CARS_API_URL);\r\n    return data;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nexport const consumption = async (vehicle, distance, velocity) => {\r\n  try {\r\n    const { data } = await axios.get(`${CARS_API_URL}/${vehicle}/${distance}/${velocity}`);\r\n    return data;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nexport const compare = async (vehicle, distance, velocity1, velocity2) => {\r\n  try {\r\n    const { data } = await axios.get(`${CARS_API_URL}/${vehicle}/${distance}/${velocity1}/${velocity2}`);\r\n    return data;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nconst carService = {\r\n  cars,\r\n  consumption,\r\n  compare,\r\n};\r\n\r\nexport default carService;\r\n","import { useState } from 'react';\r\nimport carService from '../services/carService';\r\n\r\nconst useData = (addHistory) => {\r\n  const [data1, setData1] = useState(null);\r\n  const [data2, setData2] = useState(null);\r\n  const [difference, setDifference] = useState(null);\r\n\r\n  const updateData = async (values = {}) => {\r\n    const { vehicle, distance, velocity1, velocity2 } = values;\r\n    if (velocity2) {\r\n      return setData(await carService.compare(vehicle, distance, velocity1, velocity2));\r\n    }\r\n    if (velocity1) {\r\n      return setData(await carService.consumption(vehicle, distance, velocity1));\r\n    }\r\n    return setData();\r\n  };\r\n\r\n  const setData = (data = {}) => {\r\n    const { data1 = null, data2 = null, difference = null } = data;\r\n    setData1(data1);\r\n    setData2(data2);\r\n    addHistory(data1, data2);\r\n    setDifference(difference);\r\n  };\r\n  const data = {\r\n    data1,\r\n    data2,\r\n    difference\r\n  };\r\n  return [data, updateData];\r\n};\r\n\r\nexport default useData;\r\n","const HISTORY_KEY = 'koodihaaste:dataHistory';\r\n\r\nconst getHistory = () => {\r\n  const history = localStorage.getItem(HISTORY_KEY);\r\n  if (!history) {\r\n    return [];\r\n  }\r\n  return JSON.parse(atob(history));\r\n};\r\n\r\nconst saveHistory = (history = []) => {\r\n  if (!history.length) throw new Error('No history to save');\r\n  localStorage.setItem(HISTORY_KEY, btoa(JSON.stringify(history)));\r\n};\r\n\r\nconst clearHistory = () => {\r\n  localStorage.removeItem(HISTORY_KEY);\r\n};\r\n\r\nconst storageService = {\r\n  getHistory,\r\n  saveHistory,\r\n  clearHistory,\r\n};\r\n\r\nexport default storageService;\r\n","import { useEffect, useState } from 'react';\r\n\r\nimport storageService from '../services/storageService';\r\n\r\nconst useDataHistory = () => {\r\n  const [history, setHistory] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const localHistory = storageService.getHistory();\r\n    if (localHistory) {\r\n      setHistory(localHistory);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (history.length) {\r\n      storageService.saveHistory(history);\r\n    }\r\n  }, [history]);\r\n\r\n  const addHistory = (...data) => {\r\n    const truthfulData = data.filter(item => item);\r\n    if (truthfulData.length) {\r\n      setHistory(truthfulData.concat(history));\r\n    }\r\n  };\r\n\r\n  const clearHistory = () => {\r\n    storageService.clearHistory();\r\n    setHistory([]);\r\n  };\r\n\r\n  return [history, addHistory, clearHistory];\r\n};\r\n\r\nexport default useDataHistory;\r\n","\r\nconst NumberInput = ({\r\n  id,\r\n  value,\r\n  setValue,\r\n  required,\r\n  placeholder,\r\n  label = 'Enter velocity: ',\r\n  min = 0\r\n}) => {\r\n  const handleChange = (event) => setValue(event.target.value);\r\n  return (\r\n    <div className=\"number-inputs\">\r\n      <label htmlFor={id}>{label}</label>\r\n      <input\r\n        id={id}\r\n        type=\"number\"\r\n        value={value}\r\n        placeholder={placeholder}\r\n        onChange={handleChange}\r\n        min={min}\r\n        step=\"0.1\"\r\n        required={required}\r\n      />\r\n      <input\r\n        type=\"range\"\r\n        value={value}\r\n        placeholder={placeholder}\r\n        onChange={handleChange}\r\n        min={min}\r\n        max=\"500\"\r\n        step=\"10\"\r\n        required={required}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NumberInput;\r\n","import { useState } from 'react';\r\nimport NumberInput from './NumberInput';\r\n\r\nconst ConsumptionForm = ({ submit }) => {\r\n  const [distance, setDistance] = useState(20);\r\n  const [velocity1, setVelocity1] = useState(50);\r\n  const [velocity2, setVelocity2] = useState(0);\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    submit({\r\n      distance: Number(distance),\r\n      velocity1: Number(velocity1),\r\n      velocity2: Number(velocity2),\r\n    });\r\n  };\r\n\r\n  return (\r\n    <form className=\"velocity\" onSubmit={handleSubmit}>\r\n      <NumberInput\r\n        id=\"distance\"\r\n        value={distance}\r\n        setValue={setDistance}\r\n        placeholder=\"Distance\"\r\n        label=\"Enter distance: \"\r\n        required\r\n        min={0.1}\r\n      />\r\n      <NumberInput\r\n        id=\"velocity1\"\r\n        value={velocity1}\r\n        setValue={setVelocity1}\r\n        placeholder=\"Velocity\"\r\n        label=\"Enter first velocity: \"\r\n        required\r\n        min={1}\r\n      />\r\n      <NumberInput\r\n        id=\"velocity2\"\r\n        value={velocity2}\r\n        setValue={setVelocity2}\r\n        placeholder=\"Velocity\"\r\n        label=\"Enter second velocity (optional):\"\r\n      />\r\n      <button type=\"submit\">Submit</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default ConsumptionForm;\r\n","export const TableHead = ({ children }) => (\r\n  <thead>\r\n    <tr>\r\n      {children}\r\n    </tr>\r\n  </thead>\r\n);\r\n\r\nexport const TableBody = ({ children }) => (\r\n  <tbody>\r\n    {children}\r\n  </tbody>\r\n);\r\n\r\nexport const wrapTableRow = (component, i) => <tr key={i}><td>{component}</td></tr>;\r\n","export const Velocity = ({ value, text = 'Velocity: ' }) => (\r\n  <span>{text}{value}km/h</span>\r\n);\r\n\r\nexport const Distance = ({ value, text = 'Distance: ' }) => (\r\n  <span>{text}{value.toFixed(1)}km</span>\r\n);\r\n\r\nexport const Time = ({ value, difference, text = 'Time: ' }) => {\r\n  const differenceText = difference ? getDifferenceText(value) : '';\r\n  const [days, hours, minutes] = getTime(Math.abs(value));\r\n  const daysText = days ? `${days} days ` : '';\r\n  return (\r\n    <span>{text}{daysText} {hours} hours and {minutes} minutes {differenceText}</span>\r\n  );\r\n};\r\n\r\nconst getDifferenceText = (hours) => {\r\n  if (hours === 0) return '';\r\n  return hours < 0 ? 'faster' : 'slower';\r\n};\r\n\r\nconst getTime = (hourValue) => {\r\n  if (hourValue < 0) {\r\n    throw new Error('time is less than zero');\r\n  }\r\n  const days = Math.floor(hourValue / 24);\r\n  hourValue -= days * 24;\r\n  const hours = Math.floor(hourValue);\r\n  hourValue -= hours;\r\n  const minutes = Math.ceil(hourValue * 60);\r\n  return [days, hours, minutes];\r\n};\r\n\r\nexport const Fuel = ({ value, text = 'Fuel: ' }) => (\r\n  <span>{text}{value.toFixed(2)} liters</span>\r\n);\r\n","import { TableBody, TableHead, wrapTableRow } from '../Table';\r\nimport { Distance, Fuel, Time, Velocity } from './Values';\r\n\r\nconst ConsumptionData = ({ data }) => {\r\n  const { velocity, distance, time, fuel } = data;\r\n\r\n  const rows = [\r\n    <Distance value={distance} />,\r\n    <Time value={time} />,\r\n    <Fuel value={fuel} />\r\n  ].map(wrapTableRow);\r\n\r\n  return (\r\n    <table className=\"consumption\">\r\n      <TableHead>\r\n        <th><Velocity value={velocity} /></th>\r\n      </TableHead>\r\n      <TableBody>\r\n        {rows}\r\n      </TableBody>\r\n    </table>\r\n  );\r\n};\r\n\r\nexport default ConsumptionData;\r\n","import { TableBody, TableHead, wrapTableRow } from '../Table';\r\nimport { Fuel, Time } from './Values';\r\n\r\nconst DifferenceData = ({ difference }) => {\r\n  const { time, fuel } = difference;\r\n  const rows = [\r\n    <Time value={time} difference />,\r\n    <Fuel value={fuel} />\r\n  ].map(wrapTableRow);\r\n\r\n  return (\r\n    <table className=\"difference\">\r\n      <TableHead>\r\n        <th>Difference</th>\r\n      </TableHead>\r\n      <TableBody>\r\n        {rows}\r\n      </TableBody>\r\n    </table>\r\n  );\r\n};\r\n\r\nexport default DifferenceData;\r\n","import ConsumptionData from './Consumptiondata';\r\nimport DifferenceData from './DifferenceData';\r\nimport './results.css';\r\n\r\nconst Results = ({ data }) => {\r\n  const { data1, data2, difference } = data;\r\n  const noData = !data1;\r\n  if (noData) {\r\n    return null;\r\n  }\r\n  const noComparison = data1 && (!data2 || !difference);\r\n  if (noComparison) {\r\n    return (\r\n      <div className=\"results\">\r\n        <ConsumptionData data={data1} />\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <div className=\"results\">\r\n      <ConsumptionData data={data1} />\r\n      <ConsumptionData data={data2} />\r\n      <DifferenceData difference={difference} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Results;\r\n","import { useState, useEffect } from 'react';\r\nimport carService from '../services/carService';\r\n\r\nconst useCars = () => {\r\n  const [cars, setCars] = useState([]);\r\n  useEffect(() => {\r\n    getCars();\r\n  }, []);\r\n\r\n  const getCars = async () => {\r\n    const serverCars = await carService.cars();\r\n    if (serverCars) {\r\n      setCars(serverCars);\r\n    }\r\n  };\r\n\r\n  return [cars, getCars];\r\n};\r\n\r\nexport default useCars;","import useCars from '../hooks/useCars';\r\n\r\nconst VehicleForm = ({ submit }) => {\r\n  const [cars] = useCars();\r\n\r\n  if (!cars) return null;\r\n\r\n  const handleChange = (event) => submit(event.target.value.toUpperCase());\r\n\r\n  const carOption = ({ id }) => <option key={id} value={id}>{id}</option>;\r\n  const options = cars.map(carOption);\r\n\r\n  return (\r\n    <div className=\"vehicle-form\">\r\n      <label htmlFor=\"vehicle\">Choose vehicle: </label>\r\n      <select id=\"vehicle\" onChange={handleChange}>\r\n        <option value=\"\">Select vehicle</option>\r\n        {options}\r\n      </select>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VehicleForm;\r\n","import { Distance, Fuel, Time, Velocity } from './results/Values';\r\nimport { TableBody, TableHead } from './Table';\r\n\r\nconst History = ({ history = [], clearHistory }) => {\r\n  return (\r\n    <div className=\"history\">\r\n      <h2>History</h2>\r\n      <HistoryButtons\r\n        history={history}\r\n        clearHistory={clearHistory}\r\n      />\r\n      <HistoryTable history={history.slice(0, 5)} />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst HistoryButtons = ({ history = [], clearHistory }) => {\r\n  if (history.length < 1) return null;\r\n  const handleClear = (event) => {\r\n    event.preventDefault();\r\n    clearHistory();\r\n  };\r\n  return (\r\n    <div className=\"history-buttons\">\r\n      <button onClick={handleClear} type=\"button\">Clear history</button>\r\n    </div >\r\n  );\r\n};\r\n\r\nconst HistoryTable = ({ history = [] }) => {\r\n  if (!history.length) {\r\n    return <p>Nothing to show...</p>;\r\n  }\r\n  return (\r\n    <table className=\"history-table\">\r\n      <TableHead>\r\n        <th>Vehicle</th>\r\n        <th>Distance</th>\r\n        <th>Velocity</th>\r\n        <th>Time</th>\r\n        <th>Fuel</th>\r\n      </TableHead>\r\n      <TableBody>\r\n        {history.map((item, index) => (\r\n          <tr key={index}>\r\n            <td>{item.carId}</td>\r\n            <td><Distance value={item.distance} text=\"\" /></td>\r\n            <td><Velocity value={item.velocity} text=\"\" /></td>\r\n            <td><Time value={item.time} text=\"\" /></td>\r\n            <td><Fuel value={item.fuel} text=\"\" /></td>\r\n          </tr>\r\n        ))}\r\n      </TableBody>\r\n    </table>\r\n  );\r\n};\r\n\r\nexport default History;","import React, { useState } from 'react';\r\n\r\nimport useData from './hooks/useData';\r\nimport useDataHistory from './hooks/useDataHistory';\r\n\r\nimport ConsumptionForm from './components/consumptionForm';\r\nimport Results from './components/results';\r\nimport VehicleForm from './components/VehicleForm';\r\nimport History from './components/History';\r\n\r\nconst App = () => {\r\n  const [dataHistory, addHistory, clearHistory] = useDataHistory();\r\n  const [data, updateData] = useData(addHistory);\r\n  const [vehicle, setVehicle] = useState('');\r\n\r\n  const handleVehicleSubmit = (value = '') => {\r\n    setVehicle(value.toUpperCase());\r\n    updateData();\r\n  };\r\n\r\n  const handleVelocitySubmit = (values) => updateData({ ...values, vehicle });\r\n  const showResults = vehicle && data.data1;\r\n  return (\r\n    <div>\r\n      <h1> Welcome!</h1>\r\n      <VehicleForm submit={handleVehicleSubmit} />\r\n      <hr />\r\n      <h2>{vehicle}</h2>\r\n      {vehicle ? <ConsumptionForm submit={handleVelocitySubmit} /> : null}\r\n      {showResults ? <><hr /><Results data={data} /></> : null}\r\n      <hr />\r\n      <History history={dataHistory} clearHistory={clearHistory} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}